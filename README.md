# Spotibot: 没入型音楽＆照明コントローラー

**Spotibot** は、音楽と空間演出を融合させ、Spotifyの再生楽曲とSwitchBotスマート照明をシンクロさせることで、リスニング体験を向上させるアプリケーションです。

「没入感（Immersion）」と「美学（Aesthetics）」を重視して設計されており、単なる音楽プレーヤーとしてだけでなく、その瞬間のムードを光として部屋全体に拡張します。

---

## 🎵 主な機能

### 1. 没入型音楽ディスプレイ
*   **巨大なアルバムアート**: 再生中のアートワークを大きく表示し、視覚的な中心として機能します。
*   **Spotify統合**: 曲名、アーティスト名、再生状態をリアルタイムで表示します。
*   **タッチ操作**:
    *   **再生コントロール**: 再生・一時停止・スキップなどの操作が可能です。
    *   **インタラクティブ・アート**: アルバムアートの好きな場所をクリックすると、その色を抽出して瞬時に照明へ反映させることができます。

### 2. スマート照明連携 (SwitchBot)
*   **ダイナミック同期**:
    *   **Auto-Sync (自動同期)**: アルバムアートの色を自動解析し、楽曲のムードに合わせて照明色を変化させます。
    *   **手動コントロール**: 同期をオフにして、RGBカラーや色温度（2700K〜6500K）を自由に調整することも可能です。
*   **コントロールパネル**:
    *   **マスター電源**: ワンクリックでライトのオン/オフを一括切り替え。
    *   **明るさ調整**: スライダーで直感的に調光。
    *   **シーンプリセット**: 「読書」「リラックス」「集中」「映画」「ゲーム」などのモードを瞬時に呼び出し。

---

## 🚀 始め方（Vercelへのデプロイ推奨）

SwitchBot APIの仕様上（CORS制限）、**Vercel** などのホスティングサービスを使用することを強く推奨します。GitHub PagesではAPIが正常に動作しません。

### セットアップ手順

1.  **Vercelへデプロイ**:
    *   [Vercel](https://vercel.com/) にログインし、「Add New Project」からこのGitHubリポジトリをインポートします。
    *   設定は自動検出されるため、そのまま「Deploy」をクリックします。

2.  **Spotify連携設定**:
    *   [Spotify Developer Dashboard](https://developer.spotify.com/dashboard) にアクセスします。
    *   アプリ設定の「Redirect URIs」に以下を追加します：
        *   `http://localhost:5173/` （ローカル開発用）
        *   `https://<あなたのVercelアプリURL>/` （例: `https://spotibot.vercel.app/`）
    *   **注意**: 末尾のスラッシュ `/` を忘れないでください。

3.  **アプリの設定**:
    *   デプロイされたアプリを開き、「Connect Spotify」でログインします。
    *   設定（歯車アイコン）を開き、SwitchBotの `トークン` と `シークレット` を入力します。
    *   デバイスを選択して完了です！

---

## 🎛 コントロールパネルガイド

| 機能 | 説明 |
| :--- | :--- |
| **Spotify Sync** | アルバムアートとの自動色同期のオン/オフを切り替えます。 |
| **Master Power** | 選択した全デバイスの電源を一括でオン/オフします。 |
| **Brightness** | 照明の明るさを調整します（0-100%）。 |
| **RGB / White** | カラーモード（RGB）と色温度モード（ホワイト）を切り替えます。 |
| **Presets** | 事前に定義された照明シーン（読書、リラックス等）をワンタップで適用します。 |

---

*究極のオーディオビジュアル空間のために設計されました。*
